@{
    var db = Database.Open("League_DB");
    
    var postLeagueid= Request["addleagueid"];
    var postPool = Request["addpool"];
    var postPlayoff= Request["addplayoff"]; 
    var postDate = Request["adddate"];
    var postTime = Request["addtime"];
    
    var postGameID1 = Guid.NewGuid() ;
    var postSheet1 = Request["addsheet1"];
    var postHome1 = Request["addhome1"];
    var postAway1 = Request["addaway1"];
    
    var postGameID2 = Guid.NewGuid() ;
    var postSheet2 = Request["addsheet2"];
    var postHome2 = Request["addhome2"];
    var postAway2 = Request["addaway2"];

    var postGameID3 = Guid.NewGuid() ;
    var postSheet3 = Request["addsheet3"];
    var postHome3 = Request["addhome3"];
    var postAway3 = Request["addaway3"];

    var postGameID4 = Guid.NewGuid() ;
    var postSheet4 = Request["addsheet4"];
    var postHome4 = Request["addhome4"];
    var postAway4 = Request["addaway4"];

    var postGameID5 = Guid.NewGuid() ;
    var postSheet5 = Request["addsheet5"];
    var postHome5 = Request["addhome5"];
    var postAway5 = Request["addaway5"];

    var postGameID6 = Guid.NewGuid() ;
    var postSheet6 = Request["addsheet6"];
    var postHome6 = Request["addhome6"];
    var postAway6 = Request["addaway6"];
    
    var postGameID7 = Guid.NewGuid() ;    
    var postSheet7 = Request["addsheet7"];
    var postHome7 = Request["addhome7"];
    var postAway7 = Request["addaway7"];

    var postGameID8 = Guid.NewGuid() ;    
    var postSheet8 = Request["addsheet8"];
    var postHome8 = Request["addhome8"];
    var postAway8 = Request["addaway8"];

        var postsql1 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql1, postGameID1, postLeagueid, postHome1, postAway1, postSheet1, postDate, postTime, postPlayoff);  
        
        var postsql2 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql2, postGameID2, postLeagueid, postHome2, postAway2, postSheet2, postDate, postTime, postPlayoff);
        
        var postsql3 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql3, postGameID3, postLeagueid, postHome3, postAway3, postSheet3, postDate, postTime, postPlayoff);  
        
        var postsql4 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";;
    db.Execute(postsql4, postGameID4, postLeagueid, postHome4, postAway4, postSheet4, postDate, postTime, postPlayoff);        

        var postsql5 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql5, postGameID5, postLeagueid, postHome5, postAway5, postSheet5, postDate, postTime, postPlayoff);
        
        var postsql6 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql6, postGameID6, postLeagueid, postHome6, postAway6, postSheet6, postDate, postTime, postPlayoff);  
        
        var postsql7 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql7, postGameID7, postLeagueid, postHome7, postAway7, postSheet7, postDate, postTime, postPlayoff);        

        var postsql8 = "INSERT INTO Schedule_tbl (Game_ID, League_ID, Home_Team_ID, Away_Team_ID, Sheet, Game_Date, Game_Time, Playoff) VALUES (@0, @1, @2, @3, @4, @5, @6, @7)";
    db.Execute(postsql8, postGameID8, postLeagueid, postHome8, postAway8, postSheet8, postDate, postTime, postPlayoff);        

    var sql = "Select Schedule_tbl.Game_ID, Schedule_tbl.League_ID, Schedule_tbl.Home_Team_ID, Schedule_tbl.Away_Team_ID, League_tbl.League_Name, convert(nvarchar,Game_Date,107) as Date, convert(nvarchar(5),Game_Time,108) as Time, Team_tbl_1.Team_Name as Home_Team, Team_tbl_2.Team_Name as Away_Team, Sheet, Game_Submit, Playoff from Schedule_tbl JOIN League_tbl on Schedule_tbl.League_ID = League_tbl.League_ID JOIN Team_tbl Team_tbl_1 on Schedule_tbl.Home_Team_ID = Team_tbl_1.Team_UID JOIN Team_tbl Team_tbl_2 on Schedule_tbl.Away_Team_ID = Team_tbl_2.Team_UID WHERE Schedule_tbl.League_ID=@0 ORDER BY Date, Time";
    var gamelist = db.Query(sql, postLeagueid);
    Json.Write(gamelist, Response.Output);
}        
